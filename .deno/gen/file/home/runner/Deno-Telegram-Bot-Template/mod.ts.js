import { Bot, Telegram } from 'https://deno.land/x/telegram@v0.1.1/mod.ts';
const token = Deno.env.get('TOKEN');
const bot = new Bot(token);
const telegram = new Telegram(token);
export const commands = new Map();
const commandsForList = [];
for await (const dir of Deno.readDir('./commands')) {
    if (dir.name.endsWith('.ts')) {
        import(`./commands/${dir.name}`).then(file => {
            const content = file.default;
            const name = content.name;
            commands.set(name, content);
            commandsForList.push({ command: name, description: content.description });
        });
    }
    ;
}
;
for await (const dir of Deno.readDir('./events')) {
    if (dir.name.endsWith('.ts')) {
        import(`./events/${dir.name}`).then(file => {
            const content = file.default;
            const name = dir.name.substring(0, dir.name.length - 3);
            bot.on(name, content.bind(null, bot));
        });
    }
    ;
}
;
bot.launch();
telegram.setMyCommands(commandsForList);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxHQUFHLEVBQVcsUUFBUSxFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFJcEYsTUFBTSxLQUFLLEdBQVcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFFLENBQUM7QUFDN0MsTUFBTSxHQUFHLEdBQVEsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDaEMsTUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7QUFFckMsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUE7QUFRakMsTUFBTSxlQUFlLEdBQVUsRUFBRSxDQUFDO0FBSWxDLElBQUksS0FBSyxFQUFFLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUU7SUFDaEQsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUMxQixNQUFNLENBQUMsY0FBYyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDekMsTUFBTSxPQUFPLEdBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNsQyxNQUFNLElBQUksR0FBVyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBRWxDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQzVCLGVBQWUsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxPQUFPLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQztRQUM1RSxDQUFDLENBQUMsQ0FBQztLQUNOO0lBQUEsQ0FBQztDQUNMO0FBQUEsQ0FBQztBQUlGLElBQUksS0FBSyxFQUFFLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQUU7SUFDOUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUMxQixNQUFNLENBQUMsWUFBWSxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdkMsTUFBTSxPQUFPLEdBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNsQyxNQUFNLElBQUksR0FBUSxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUE7WUFFNUQsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxDQUFDLENBQUMsQ0FBQztLQUNOO0lBQUEsQ0FBQztDQUNMO0FBQUEsQ0FBQztBQUVGLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUViLFFBQVEsQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLENBQUEifQ==